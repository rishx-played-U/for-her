<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ❤️</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
* { margin:0; padding:0; box-sizing:border-box; }

body {
  height:100vh;
  background:
    radial-gradient(circle at top, rgba(255,105,180,0.3), transparent 45%),
    radial-gradient(circle at bottom, rgba(255,20,147,0.25), transparent 50%),
    linear-gradient(180deg, #160018, #000);
  color:white;
  overflow:hidden;
  font-family:'Poppins',sans-serif;
}

audio {
  position:fixed;
  top:14px;
  left:50%;
  transform:translateX(-50%);
  width:280px;
  z-index:10;
}

.container {
  height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

.intro {
  max-width:88%;
  text-align:center;
  font-family:'Pacifico',cursive;
  font-size:clamp(1.1rem,4vw,1.6rem);
  line-height:1.8;
}

.heart {
  width:120px;
  height:120px;
  background:crimson;
  position:relative;
  transform:rotate(-45deg);
  margin-top:35px;
  cursor:pointer;
  display:none;
  animation:idleGlow 3.5s infinite;
  transition:background 2s, box-shadow 1.5s;
}

.heart::before,
.heart::after {
  content:"";
  width:120px;
  height:120px;
  background:inherit;
  border-radius:50%;
  position:absolute;
}

.heart::before { top:-60px; left:0; }
.heart::after { left:60px; top:0; }

@keyframes idleGlow {
  0% { box-shadow:0 0 18px rgba(255,105,180,0.4); }
  50% { box-shadow:0 0 38px rgba(255,105,180,0.8); }
  100% { box-shadow:0 0 18px rgba(255,105,180,0.4); }
}

.active {
  position:absolute;
  background:rgba(255,105,180,0.95);
  padding:14px 18px;
  border-radius:22px;
  max-width:82vw;
  text-align:center;
  font-size:clamp(0.85rem,3.5vw,1rem);
  line-height:1.6;
  pointer-events:none;
}

.memory {
  position:absolute;
  background:rgba(255,105,180,0.75);
  padding:10px 14px;
  border-radius:18px;
  font-size:0.8rem;
  max-width:60vw;
  text-align:center;
  animation:float 7s ease-in-out infinite;
  transition:opacity 1.5s, transform 1.5s;
}

@keyframes float {
  0% { transform:translateY(0); }
  50% { transform:translateY(-8px); }
  100% { transform:translateY(0); }
}
</style>
</head>

<body>

<audio id="music" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>

<div class="container">
  <div class="intro" id="intro"></div>
  <div class="heart" id="heart"></div>
</div>

<script src="compliments.js"></script>

<script>
const introLines = [
  "Hey sweetheart…",
  "I know this year has been a little rough for you.",
  "But for me, you were the brightest part of it.",
  "You showed me how beautiful life can be.",
  "I love you so much.",
  "Here are some things I love about you."
];

const intro = document.getElementById("intro");
const heart = document.getElementById("heart");
const music = document.getElementById("music");

let i=0,j=0;
function typeIntro(){
  if(j<introLines[i].length){
    intro.textContent+=introLines[i][j++];
    setTimeout(typeIntro,60);
  } else {
    setTimeout(()=>{
      intro.textContent="";
      j=0;i++;
      i<introLines.length?typeIntro():heart.style.display="block";
    },2800);
  }
}
typeIntro();

let unused=[...compliments];
const memories=[];
const MAX_MEM=8;
let clicks=0;

heart.addEventListener("click",()=>{
  if(navigator.vibrate) navigator.vibrate(30);

  if(music.paused){
    music.volume=0;
    music.play();
    let v=0;
    const fade=setInterval(()=>{
      v+=0.04;
      music.volume=Math.min(v,1);
      if(v>=1) clearInterval(fade);
    },120);
  }

  heart.style.background=clicks%2===0?"hotpink":"crimson";
  heart.style.boxShadow="0 0 55px rgba(255,105,180,0.95)";
  setTimeout(()=>heart.style.boxShadow="",1800);

  if(unused.length===0) unused=[...compliments];
  const text=unused.splice(Math.floor(Math.random()*unused.length),1)[0];

  showActive(text);
  addMemory(text);
  clicks++;
});

function showActive(text){
  const el=document.createElement("div");
  el.className="active";
  el.textContent=text;
  document.body.appendChild(el);

  const r=heart.getBoundingClientRect();
  const cx=r.left+r.width/2;
  const cy=r.top+r.height/2;
  let a=0;
  const slow=text.length>90;
  const sp=slow?0.025:0.045;

  const orbit=setInterval(()=>{
    a+=sp;
    el.style.left=cx+Math.cos(a)*140+"px";
    el.style.top=cy+Math.sin(a)*140+"px";
  },16);

  setTimeout(()=>{
    clearInterval(orbit);
    el.style.transition="transform 2s, opacity 2s";
    el.style.transform="translateY(90px)";
    el.style.opacity=0;
    setTimeout(()=>el.remove(),2000);
  },slow?3800:2400);
}

function addMemory(text){
  if(memories.length>=MAX_MEM){
    const old=memories.shift();
    old.style.opacity=0;
    old.style.transform="translateY(60px)";
    setTimeout(()=>old.remove(),1500);
  }
  const m=document.createElement("div");
  m.className="memory";
  m.textContent=text;
  const ang=(memories.length/MAX_MEM)*Math.PI*2;
  m.style.left=`calc(50% + ${Math.cos(ang)*180}px)`;
  m.style.top=`calc(50% + ${Math.sin(ang)*160}px)`;
  document.body.appendChild(m);
  memories.push(m);
}
</script>

</body>
</html>
